CREATE TABLE category (id BIGINT AUTO_INCREMENT, id_root BIGINT, name VARCHAR(50), INDEX id_root_idx (id_root), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE have_list (id BIGINT AUTO_INCREMENT, product_id BIGINT NOT NULL, object_id BIGINT, user_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX product_id_idx (product_id), INDEX object_id_idx (object_id), INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE object (id BIGINT AUTO_INCREMENT, status VARCHAR(45), detail VARCHAR(255), picture VARCHAR(200), weight BIGINT, height BIGINT, width BIGINT, lenght BIGINT, color VARCHAR(45), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE product (id BIGINT AUTO_INCREMENT, id_category BIGINT, name VARCHAR(45), description VARCHAR(150), picture VARCHAR(200), link VARCHAR(45), youtube VARCHAR(100), brand VARCHAR(45), model VARCHAR(45), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX id_category_idx (id_category), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE rate ADD CONSTRAINT rate_trade_id_trade_id FOREIGN KEY (trade_id) REFERENCES trade(id);
ALTER TABLE reputation ADD CONSTRAINT reputation_user_id_user_login_id FOREIGN KEY (user_id) REFERENCES user_login(id) ON DELETE CASCADE;
ALTER TABLE trade ADD CONSTRAINT trade_user_2_id_user_login_id FOREIGN KEY (user_2_id) REFERENCES user_login(id);
ALTER TABLE trade ADD CONSTRAINT trade_user_1_id_user_login_id FOREIGN KEY (user_1_id) REFERENCES user_login(id);
ALTER TABLE rate ADD CONSTRAINT rate_intercambio_id_trade_id FOREIGN KEY (intercambio_id) REFERENCES trade(id) ON DELETE CASCADE;
ALTER TABLE reputation ADD CONSTRAINT reputation_user_id_user_login_id FOREIGN KEY (user_id) REFERENCES user_login(id) ON DELETE CASCADE;
ALTER TABLE review ADD CONSTRAINT review_user_id_user_login_id FOREIGN KEY (user_id) REFERENCES user_login(id) ON DELETE CASCADE;
ALTER TABLE review ADD CONSTRAINT review_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id) ON DELETE CASCADE;
ALTER TABLE trade ADD CONSTRAINT trade_have_to_id_have_list_id FOREIGN KEY (have_to_id) REFERENCES have_list(id) ON DELETE CASCADE;
ALTER TABLE trade ADD CONSTRAINT trade_have_from_id_have_list_id FOREIGN KEY (have_from_id) REFERENCES have_list(id) ON DELETE CASCADE;
ALTER TABLE want_list ADD CONSTRAINT want_list_user_id_user_login_id FOREIGN KEY (user_id) REFERENCES user_login(id) ON DELETE CASCADE;
ALTER TABLE want_list ADD CONSTRAINT want_list_product_id_product_id FOREIGN KEY (product_id) REFERENCES product(id);
ALTER TABLE forgot_password ADD CONSTRAINT forgot_password_user_id_user_login_id FOREIGN KEY (user_id) REFERENCES user_login(id) ON DELETE CASCADE;
ALTER TABLE groups_permissions ADD CONSTRAINT groups_permissions_permission_id_permissions_id FOREIGN KEY (permission_id) REFERENCES permissions(id) ON DELETE CASCADE;
ALTER TABLE groups_permissions ADD CONSTRAINT groups_permissions_group_id_groups_id FOREIGN KEY (group_id) REFERENCES groups(id) ON DELETE CASCADE;
ALTER TABLE remember_key ADD CONSTRAINT remember_key_user_id_user_login_id FOREIGN KEY (user_id) REFERENCES user_login(id) ON DELETE CASCADE;
ALTER TABLE user_group ADD CONSTRAINT user_group_user_id_user_login_id FOREIGN KEY (user_id) REFERENCES user_login(id) ON DELETE CASCADE;
ALTER TABLE user_group ADD CONSTRAINT user_group_group_id_groups_id FOREIGN KEY (group_id) REFERENCES groups(id) ON DELETE CASCADE;
ALTER TABLE user_permission ADD CONSTRAINT user_permission_user_id_user_login_id FOREIGN KEY (user_id) REFERENCES user_login(id) ON DELETE CASCADE;
ALTER TABLE user_permission ADD CONSTRAINT user_permission_permission_id_permissions_id FOREIGN KEY (permission_id) REFERENCES permissions(id) ON DELETE CASCADE;
ALTER TABLE user_profile ADD CONSTRAINT user_profile_user_id_user_login_id FOREIGN KEY (user_id) REFERENCES user_login(id) ON DELETE CASCADE;
